extends layout

block content
  title = "Argonaut Client Demo"
  nav(class="navbar navbar-default")
    div(class="container-fluid")
      div(class="navbar-header")
        a(class="navbar-brand",href="/") Argonaut Client Demo
  div(class='col-sm-12')
    if prev
      #[a(href=(prev)) <-- Prev ]
    if next
      #[a(href=(next)) Next --> ]
    if patients && patients.length > 0
      div(class='panel panel-default')
        div(class='panel-heading-custom')
          if patients.length > 1
            h3(class='logo-link') Patients
          if patients.length === 1
            h3(class='logo-link') Patient
        div(class='panel-body')
          table(class='table table-hover table-bordered table-striped table-condensed')
            thead
              tr
                th Last Name
                th First Name
                th Gender
                th Date of Birth
            tbody
              each patient in patients
                tr
                  td #[a(href=('/fhir?query=/MedicationPrescription?patient=' + patient.id + '&token_id=' + patient.token_id)) #{patient.name.family}]
                  td #[a(href=('/fhir?query=/MedicationPrescription?patient=' + patient.id + '&token_id=' + patient.token_id)) #{patient.name.given}]
                  td #[a(href=('/fhir?query=/MedicationPrescription?patient=' + patient.id + '&token_id=' + patient.token_id)) #{patient.gender}]
                  td #[a(href=('/fhir?query=/MedicationPrescription?patient=' + patient.id + '&token_id=' + patient.token_id)) #{patient.birthdate}]
    if medications && medications.length > 0
      div(class='panel panel-default')
        div(class='panel-heading-custom')
          if medications.length > 1
            h3(class='logo-link') Prescriptions
          if medications.length === 1
            h3(class='logo-link') Prescription
        div(class='panel-body')
          table(class='table table-hover table-bordered table-striped table-condensed')
            thead
              tr
                th Medication
                th Status
            tbody
              each medication in medications
                tr
                  td #{medication.name}
                  td #{medication.status}